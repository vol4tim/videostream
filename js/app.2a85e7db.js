(function(){var n={9109:function(n,t,i){"use strict";var e=i(5361),o=i(9242),r=i(3396),l=i(7139);const a=(0,r._)("div",{class:"header"},[(0,r._)("div",{class:"item"},[(0,r._)("h1",null,"Video stream")])],-1),s={class:"block"},c=(0,r._)("br",null,null,-1),u=(0,r._)("br",null,null,-1),d=(0,r._)("br",null,null,-1),f=["href"];function w(n,t,i,e,o,w){const p=(0,r.up)("find-twins-form"),h=(0,r.up)("find-cid-form");return(0,r.wg)(),(0,r.iD)(r.HY,null,[a,(0,r._)("div",s,[o.isReady?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Wm)(p,{onTwins:w.handlerTwins},null,8,["onTwins"]),c,(0,r.Wm)(h,{twins:o.twins,onCid:w.handlerCid},null,8,["twins","onCid"]),u,d,o.video?((0,r.wg)(),(0,r.iD)("a",{key:0,href:`https://ipfs.io/ipfs/${o.video}`,target:"_blank"},(0,l.zw)(o.video),9,f)):(0,r.kq)("",!0)],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)("...")],64))])],64)}const p={style:{"margin-top":"20px"}},h=["disabled"];function y(n,t,i,e,a,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[(0,r.Uk)(" Twin "),i.twins.length?(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=n=>a.id=n)},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.twins,(n=>((0,r.wg)(),(0,r.iD)("option",{key:n},(0,l.zw)(n),1)))),128))],512)),[[o.bM,a.id]]):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=n=>a.id=n)},null,512)),[[o.nr,a.id]])]),(0,r._)("div",p,[(0,r._)("button",{onClick:t[2]||(t[2]=(...n)=>s.find&&s.find(...n)),disabled:a.load},[(0,r.Uk)(" Find ipfs cid"),a.load?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)(" ...")],64)):(0,r.kq)("",!0)],8,h)])],64)}var b=i(9453),v={emits:["cid"],props:{twins:{type:Array}},data(){return{id:"",load:!1}},methods:{async find(){this.load=!0,this.$emit("cid","");try{const n=await this.$robonomics.twin.getTwin(this.id);if(n){const t=Object.keys(n).find((t=>"4CC7GkKuJJzFzswqz39m5qWbgXaQks9f36jCgsadpN2c1hnh"===n[t]));if(t){const n=b.P6.hexToCid(t);this.$emit("cid",n)}}}catch(n){console.log(n)}this.load=!1}}},m=i(89);const g=(0,m.Z)(v,[["render",y]]);var k=g;const _={style:{"margin-top":"20px"}},O=["disabled"];function j(n,t,i,e,l,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[(0,r.Uk)(" Controller "),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>l.controller=n)},null,512),[[o.nr,l.controller]])]),(0,r._)("div",_,[(0,r._)("button",{onClick:t[1]||(t[1]=(...n)=>a.find&&a.find(...n)),disabled:l.load},[(0,r.Uk)(" Find twins"),l.load?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)(" ...")],64)):(0,r.kq)("",!0)],8,O)])],64)}i(7658);const C=async(n,t)=>{const i=[],e=await n.twin.getTotal();for(let o=0;o<e;o++){const e=await n.twin.getOwner(o);e===t&&i.push(o)}return i};var T={emits:["twins"],data(){return{controller:"",load:!1}},methods:{async find(){this.load=!0,this.$emit("twins",[]);try{const n=await C(this.$robonomics,this.controller);this.$emit("twins",n)}catch(n){console.log(n)}this.load=!1}}};const D=(0,m.Z)(T,[["render",j]]);var P=D,U={name:"App",components:{FindTwinsForm:P,FindCidForm:k},data(){return{isReady:!1,twins:[],video:""}},async created(){this.$robonomicsReady((async()=>{this.isReady=!0}))},methods:{handlerTwins(n){this.twins=n},handlerCid(n){this.video=n}}};const $=(0,m.Z)(U,[["render",w]]);var x=$;async function F(){try{return b.l.getInstance()}catch(n){}return await b.l.createInstance({endpoint:"wss://kusama.rpc.robonomics.network/"})}var H={install:async n=>{let t,i=!1;n.config.globalProperties.$robonomicsReady=n=>{i?n():t=n},n.config.globalProperties.$robonomics=await F(),i=!0,t&&t()}};window.Buffer=e.lW;const Y=(0,o.ri)(x);Y.use(H).mount("#app")},5856:function(){},6601:function(){}},t={};function i(e){var o=t[e];if(void 0!==o)return o.exports;var r=t[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=n,function(){i.amdO={}}(),function(){var n=[];i.O=function(t,e,o,r){if(!e){var l=1/0;for(u=0;u<n.length;u++){e=n[u][0],o=n[u][1],r=n[u][2];for(var a=!0,s=0;s<e.length;s++)(!1&r||l>=r)&&Object.keys(i.O).every((function(n){return i.O[n](e[s])}))?e.splice(s--,1):(a=!1,r<l&&(l=r));if(a){n.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=n.length;u>0&&n[u-1][2]>r;u--)n[u]=n[u-1];n[u]=[e,o,r]}}(),function(){i.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return i.d(t,{a:t}),t}}(),function(){var n,t=Object.getPrototypeOf?function(n){return Object.getPrototypeOf(n)}:function(n){return n.__proto__};i.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"===typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"===typeof e.then)return e}var r=Object.create(null);i.r(r);var l={};n=n||[null,t({}),t([]),t(t)];for(var a=2&o&&e;"object"==typeof a&&!~n.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(n){l[n]=function(){return e[n]}}));return l["default"]=function(){return e},i.d(r,l),r}}(),function(){i.d=function(n,t){for(var e in t)i.o(t,e)&&!i.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){i.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){i.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n}}(),function(){var n={143:0};i.O.j=function(t){return 0===n[t]};var t=function(t,e){var o,r,l=e[0],a=e[1],s=e[2],c=0;if(l.some((function(t){return 0!==n[t]}))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(s)var u=s(i)}for(t&&t(e);c<l.length;c++)r=l[c],i.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return i.O(u)},e=self["webpackChunkvideostream"]=self["webpackChunkvideostream"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=i.O(void 0,[998],(function(){return i(9109)}));e=i.O(e)})();
//# sourceMappingURL=app.2a85e7db.js.map